/**
* snakepong
* version: 0.1.0
* date: 28-09-2013
*
* Â©2013 Slemgrim
* slemgrim@gmail.com 
*
* License: GNU GENERAL PUBLIC LICENSE v2
*/
define("app/log",[],function(){return{error:function(e){console.log("WARNING: "+e)},warn:function(e){console.log("ERROR: "+e)},info:function(e){console.log(e)}}}),define("app/event",[],function(){return{add:function(t,n,r){t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent?t.attachEvent("on"+n,r):t["on"+n]=r},remove:function(){console.log("remove")},preventDefault:function(e){e.preventDefault()}}}),define("app/dom",[],function(){return{el:function(e,t){return t?t.querySelector(e):document.querySelector(e)},els:function(e,t){return t?t.querySelectorAll(e):document.querySelectorAll(e)}}}),define("app/classlist",[],function(){return{add:function(e,t){e.classList.add(t)},remove:function(e,t){e.classList.remove(t)},toggle:function(e,t){e.classList.toggle(t)},contains:function(e,t){return e.classList.contains(t)}}}),define("app/core",["app/log","app/event","app/dom","app/classlist"],function(e,t,n,r){return{log:e,event:t,dom:n,classlist:r}}),define("gui/debug",["app/core"],function(e){return function(t,n){var r=function(){i()},i=function(){e.event.add(t,"click",s)},s=function(t){e.event.preventDefault(t),e.classlist.toggle(n,"show")};r()}}),define("gui/canvas-handler",["app/core"],function(e){return function(t){var n,r,i=[],s=300,o=null;this.registerListener=function(e){i.push(e)};var u=function(){a()},a=function(){e.event.add(window,"resize",f)},f=function(){o!=null&&clearTimeout(o),o=window.setTimeout(function(){l(),c(),h()},s)},l=function(){n=t.offsetWidth,r=t.offsetHeight},c=function(){t.setAttribute("width",n),t.setAttribute("height",r)},h=function(){for(var e=0;e<i.length;e++)i[e].canvasChange(n,r)};u()}}),define("game/snakepong",[],function(){return function(){var e=function(){};this.canvasChange=function(e,t){console.log("canvas change received: "+e+":"+t)},e()}}),requirejs.config({baseUrl:"src",paths:{foo:"./app/core"}}),requirejs(["app/core","gui/debug","gui/canvas-handler","game/snakepong"],function(e,t,n,r){var i=e.dom.el("#main-canvas"),s,o,u,a=function(){s=new r,o=new t(e.dom.el(".debug"),e.dom.el("#debug")),u=new n(i),u.registerListener(s)};a()}),define("main",function(){});